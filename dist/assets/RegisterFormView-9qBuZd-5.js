import{A as x,_ as A}from"./AppInput-CqA6_R4b.js";import{_ as I,c as B,u as E,a as z,o as v,b as c,w as g,d as M,e as C,f as r,m as S,r as $,n as q,g as t,I as T,T as U,h as L,i as O,j as w,k as N,l as R,t as p,p as j,q as F,s as D}from"./index-x0gEMOeu.js";const H=(e="This field must be a valid email.")=>s=>s&&!/^[^@]+@[^@]+\.[^@]+$/.test(s)&&e,Z=(e,s="Max length exceeded")=>a=>a&&a.length>e&&s,G=(e="Password must include an uppercase letter.")=>s=>!/(?=.*[A-Z])/.test(s)&&e,J=(e,s="Min length not met")=>a=>a&&a.length<e&&s,K=(e="Password must include a number and a special character.")=>s=>!/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(s)&&e,_=(e="This field is required.")=>s=>!s&&e,Q=(e,s="Passwords do not match.")=>(a,d)=>{const n=d?.[e];return a!==n?s:null},W={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-primary-900 bg-opacity-50 w-full h-full"},X={__name:"AppModal",props:{closeOnEsc:{type:Boolean,default:!0},closeOnClickOutside:{type:Boolean,default:!0},isOpen:{type:Boolean,default:!1}},emits:["close"],setup(e){const s=e,a=B(()=>s.isOpen),d=E();return(n,i)=>(v(),z(L,{to:"#modal-container"},[c(U,{name:"modal"},{default:g(()=>[a.value?(v(),M("div",W,[r("div",S({ref:"modal",class:"relative bg-wsmoke rounded shadow-lg p-6 min-w-[-webkit-fill-available] min-h-[-webkit-fill-available] md:min-h-[20rem] md:min-w-[20rem] flex flex-col justify-between"},n.$attrs),[r("div",{class:q(["flex items-center mb-4",{"justify-between":t(d).title,"justify-end":!t(d).title}])},[$(n.$slots,"title",{},void 0,!0),c(t(T),{icon:"mdi:close",class:"text-2xl cursor-pointer text-primary-900",onClick:i[0]||(i[0]=f=>n.$emit("close"))})],2),r("div",null,[$(n.$slots,"icon",{},void 0,!0),$(n.$slots,"body",{},void 0,!0)]),$(n.$slots,"actions",{},void 0,!0)],16)])):C("",!0)]),_:3})]))}},Y=I(X,[["__scopeId","data-v-cacacfa2"]]);function ee(e,s=null){const a=O(!1),d=s?w(s):w(Object.keys(e).reduce((o,u)=>(o[u]="",o),{})),n=w(Object.keys(e).reduce((o,u)=>(o[u]=[],o),{})),i=w(Object.keys(e).reduce((o,u)=>(o[u]=!1,o),{}));function f(o){i[o]=!0;const u=d[o],V=e[o]||{},P=Object.values(V);n[o]=[];for(const b of P){const l=b(u,d);if(l){n[o].push(l);return}}}function k(){Object.keys(d).forEach(o=>f(o))}const h=B(()=>Object.values(i).every(o=>!o)),y=O(!1);return N(()=>n,o=>{y.value=Object.values(o).some(u=>u.length>0)},{deep:!0}),{errors:n,formData:d,touched:i,hasError:y,isPristine:h,isSaving:a,validateField:f,validateAllFields:k}}function se(){const e=w({value:!1});return{isOpen:e,openModal:()=>{e.value=!0},closeModal:()=>{e.value=!1}}}const te={class:"form-wrap mb-8"},oe={class:"text-2xl font-bold"},ae={class:"text-primary-600 mb-4"},re={class:"content-body"},le={id:"success-user-register","aria-level":"2",class:"text-2xl font-bold m-0 text-center"},ne={class:"text-primary-600 mb-4 text-center"},ie={__name:"RegisterForm",setup(e){const s={username:{required:_(),maxLength:Z(64,"Username must not exceed 64 characters.")},email:{required:_(),email:H()},password:{required:_(),minLength:J(8,"Password must be at least 8 characters long."),password:K("Password must include a number and a special character."),mayus:G("Password must include an uppercase letter.")},confirmPassword:{required:_(),sameAs:Q("password","Passwords do not match.")}},{errors:a,hasError:d,isSaving:n,formData:i,validateField:f,validateAllFields:k}=ee(s),{isOpen:h,openModal:y,closeModal:o}=se(),u=R(),V=async()=>{await k(),!d.value&&(n.value=!0,setTimeout(()=>{n.value=!1},1e3),console.log("Form data is valid:",i),y())},P=()=>{o(),u.push({name:"introduction"})};return(b,l)=>(v(),M("div",null,[r("form",{class:"flex flex-col justify-between h-full md:justify-start md:p-8 lg:p-0",onSubmit:D(V,["prevent"])},[r("div",te,[r("h3",oe,p(b.$t("registerForm.title")),1),r("p",ae,p(b.$t("registerForm.description")),1),c(x,{id:"username-input",modelValue:t(i).username,"onUpdate:modelValue":l[0]||(l[0]=m=>t(i).username=m),"aria-label":"Username",label:"Username",type:"text",placeholder:"Insert your username",errors:t(a).username,onBlur:l[1]||(l[1]=m=>t(f)("username"))},null,8,["modelValue","errors"]),c(x,{id:"email-input",modelValue:t(i).email,"onUpdate:modelValue":l[2]||(l[2]=m=>t(i).email=m),"aria-label":"Email",label:"Email",type:"email",placeholder:"Insert your email",errors:t(a).email,onBlur:l[3]||(l[3]=m=>t(f)("email"))},null,8,["modelValue","errors"]),c(x,{id:"password-input",modelValue:t(i).password,"onUpdate:modelValue":l[4]||(l[4]=m=>t(i).password=m),"aria-label":"Password",label:"Password",type:"password",placeholder:"Insert your password",errors:t(a).password,onBlur:l[5]||(l[5]=m=>t(f)("password"))},null,8,["modelValue","errors"]),c(x,{id:"confirm-password-input",modelValue:t(i).confirmPassword,"onUpdate:modelValue":l[6]||(l[6]=m=>t(i).confirmPassword=m),"aria-label":"Confirm Password",label:"Confirm Password",type:"password",placeholder:"Confirm your password",errors:t(a).confirmPassword,onBlur:l[7]||(l[7]=m=>t(f)("confirmPassword"))},null,8,["modelValue","errors"])]),c(F,{loading:t(n),block:!0,type:"submit"},{default:g(()=>[j(p(b.$t("registerForm.submitButton")),1)]),_:1},8,["loading"])],32),t(h).value?(v(),z(Y,{key:0,"is-open":t(h).value,onClose:t(o)},{icon:g(()=>[c(t(T),{icon:"mdi:check-circle",class:"text-5xl text-green-500 my-4 mx-auto"})]),body:g(()=>[r("div",re,[r("h3",le,p(b.$t("registerForm.successTitle")),1),r("p",ne,p(b.$t("registerForm.successMessage")),1)])]),actions:g(()=>[c(F,{variant:"primary",class:"w-full",onClick:P},{default:g(()=>[j(p(b.$t("registerForm.redirectToIntro")),1)]),_:1})]),_:1},8,["is-open","onClose"])):C("",!0)]))}},de={class:"flex items-stretch text-white h-[-webkit-fill-available]"},ue={class:"lg:flex w-1/2 hidden bg-gray-500 bg-no-repeat bg-cover relative items-center",style:{"background-image":"url('https://portfolio-images-v1.s3.us-east-2.amazonaws.com/images/forest-bg.webp')"}},me={class:"w-full px-24 z-10 hidden lg:block"},ce={class:"text-secondary-700 text-5xl font-bold text-left tracking-wide"},pe={class:"text-wsmoke text-3xl my-4"},fe={class:"relative lg:w-1/2 w-full flex md:items-center justify-center md:px-16 px-0 z-0 bg-wsmoke"},be={class:"relative w-full max-w-[25rem] mx-auto py-6 z-20 bg-wsmoke px-8 md:p-0 md:h-auto md:rounded md:shadow lg:shadow-none overflow-y-scroll lg:rounded-none flex flex-col"},ge={class:"relative pb-12 -left-4 md:left-4 lg:-left-4 md:top-6 z-10"},he={__name:"RegisterFormView",setup(e){return(s,a)=>(v(),M("section",de,[r("div",ue,[a[0]||(a[0]=r("div",{class:"absolute bg-black opacity-60 inset-0 z-0"},null,-1)),r("div",me,[r("h1",ce,p(s.$t("company.slogan")),1),r("p",pe,p(s.$t("company.calendarSlogan")),1)])]),r("div",fe,[a[1]||(a[1]=r("div",{class:"absolute lg:hidden z-10 inset-0 bg-gray-500 bg-no-repeat bg-cover items-center",style:{"background-image":"url('https://portfolio-images-v1.s3.us-east-2.amazonaws.com/images/forest-bg.webp')"}},[r("div",{class:"absolute bg-black opacity-60 inset-0 z-0"})],-1)),r("div",be,[r("div",ge,[c(A,null,{default:g(()=>[j(p(s.$t("navigation.backHome")),1)]),_:1})]),c(ie,{class:"h-auto"})])])]))}};export{he as default};
